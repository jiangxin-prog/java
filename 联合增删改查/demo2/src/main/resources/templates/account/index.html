<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Hello Spring Boot</title>
    <link rel="stylesheet" th:href="@{/css/main.css}">

</head>
<body>
<div class="container">
    <div>用户列表</div>
    <table class="table table-dark" border="1" align="center">
        <caption align="top"><a th:href="@{/account/add}">添加</a></caption>
        <caption align="top">
            <form  action="#" th:action="@{/account/list}"th:object="${account}" method="get">
                姓名:<input type="text" name="name" th:value="${name}" >
                密码:<input type="text" name="pwd" th:value="${pwd}">
                归属组: <select name="accountTypeId">
                            <option  th:each="item:${accountType}" th:value="${item.id}" th:text="${item.name}" th:selected="(${item.id} == ${accountTypeId})" >
                        </select>
                    <button>搜&nbsp索</button>
            </form>
        </caption>
        <thead>
        <tr>
            <th scope="col">编号</th>
            <th scope="col">ID</th>
            <th scope="col">归属组</th>
            <th scope="col">收货地址</th>
            <th scope="col">发表文章</th>
            <th scope="col">姓名</th>
            <th scope="col">密码</th>
            <th scope="col">状态</th>
            <th scope="col" rowspan="3">操&nbsp&nbsp作</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="item, iterStat : ${pageModel.list}">
            <th th:text="${iterStat.index}"></th>
            <th th:text="${item.id}"></th>
            <th th:text="${item.accountType.name}"></th>
            <th th:text="${item.deliveryAddressStr}"></th>
            <td>
                <p th:each="item1, iterStat : ${item.articleList}" th:text="${item1.name}"> </p>
            </td>
            <td th:text="${item.name}"></td>
            <td th:text="${item.pwd}"></td>
            <td th:switch="${item.status}">
                <div class="normal" th:case="'0'">
                    正常
                </div>
                <div class="abnormal" th:case="'1'">
                    异常
                </div>
                <div class="frozen" th:case="2">
                    冻结 <span th:if="${item.status == 2}">|<a th:href="@{/account/edit?id=}+${item.id}">申请解冻</a></span>
                </div>
            </td>
            <td><a th:href="@{/account/edit?id=}+${item.id}">编辑</a></td>
            <td><a th:href="@{/account/delete?id=}+${item.id}">删除</a></td>
        </tr>
        </tbody>
    </table>
<!--    <div class="page">-->
<!--        <span>上一页</span>-->
<!--            <a th:each="i:${#numbers.sequence(1,pageModel.totalPage)}" th:href="@{/account/list?page=}+${i}" th:text="${i}"></a>-->
<!--        <span>下一页</span>-->
<!--    </div>-->
<!--    -->
</div>
</body>
</html>